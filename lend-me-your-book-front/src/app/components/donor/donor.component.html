<div class="donor">
  <form [formGroup]="donorFormGroup" (ngSubmit)="onSubmit()">
    <legend>School information</legend>
    <div formGroupName="school" name="school" class="school form-area">
      <div class="row">
        <label class="col-md-6"> State </label>
        <select
          formControlName="state"
          name="state"
          class="col-md-6"
          (change)="updateCities()"
        >
          <option *ngFor="let state of states" [ngValue]="state">
            {{ state.name }}
          </option>
        </select>
      </div>
      <div class="row">
        <label class="col-md-6"> City </label>
        <select
          formControlName="city"
          name="city"
          class="col-md-6"
          (change)="updateState()"
        >
          <option *ngFor="let city of cities" [ngValue]="city">
            {{ city.name }}
          </option>
        </select>
      </div>
      <div class="row">
        <label class="col-md-6"> School Name </label>
        <input
          formControlName="name"
          type="text"
          name="name"
          class="col-md-6"
        />
      </div>
    </div>

    <legend>User information</legend>
    <div formGroupName="user" class="form-area">
      <div class="row">
        <label class="col-md-6"> First Name </label>
        <input
          type="text"
          formControlName="firstName"
          name="firstName"
          class="col-md-6"
        />
      </div>
      <div class="row">
        <label class="col-md-6"> Last Name </label>
        <input
          formControlName="lastName"
          type="text"
          name="lastName"
          class="col-md-6"
        />
      </div>
      <div class="row">
        <label class="col-md-6"> Level </label>

        <select formControlName="level" name="level">
          <option *ngFor="let level of levels">{{ level }} year</option>
        </select>
      </div>
    </div>

    <legend>Books information</legend>
    <div *ngIf="books.length > 0">
      <div formGroupName="books" class="form-area">
        <div *ngFor="let book of books; let i = index">
          <div formGroupName="book_{{ i }}">
            <input
              type="text"
              formControlName="bookName"
              name="bookName"
              class="col-md-6 justify-content-center"
              (keyup)="onKeyUp()"
            />

            <select formControlName="bookName" name="bookName">
              <option selected disabled>-- Please choose an option --</option>
              <option>Exercise Book</option>
              <option>Lecture Book</option>
              <option>Book</option>
            </select>
          </div>
        </div>
        <div class="add-button row">
          <div class="com-md-12">
            <button value="add book" (click)="addBookToFormGroup()">
              Add a book
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <button type="submit" class="btn btn-info">Submit</button>
    </div>
  </form>
</div>
